<link rel="import" href="../muon/muon.html"/>
<script src="./lib/ractive.js"></script>

<muon-element name="muon-button" ractive shadow>
  <template>
    <style>
      .contentWrapper {
        display: inline-block;
        width: auto;
        background-color: #446060;
        border: 1px solid #3B6161;
        border-radius: 3px;
        padding: 5px;
        color: #EEE;
        font-family: sans-serif;
        font-weight: bold;
        line-height: 1.5em;
        box-shadow: 0px 0px 1px #222;
        transition: all 200ms;
        cursor: default;
        -webkit-user-select: none;
      }
      
      .contentWrapper:hover {
        background-color: #4C7373;
      }
      
      .contentWrapper:active {
        background-color: #3A5757;
      }
    </style>
    <div class="contentWrapper">
      {{#if lefticon}}
        <i id="leftIcon" class="{{lefticon}}"></i>
      {{/if}}
      {{#if value}}
        <span id="value">{{value}}</span>
      {{else}}
        <span id="value"><content></content></span>
      {{/if}}
      {{#if righticon}}
        <i id="rightIcon" class="{{righticon}}"></i>
      {{/if}}
    </div>
  </template>
  <script>
    muon("muon-button", {
      muonCreated: function() {
        // TODO: Make this a core function of muon.
        Object.defineProperty(this, 'lefticon', {
          configurable: false,
          get: function() {
            return this._attrs.lefticon;
          },
          set: function(val) {
            this._attrs.lefticon = val;
          }
        });
        
        Object.defineProperty(this, 'righticon', {
          configurable: false,
          get: function() {
            return this._attrs.righticon;
          },
          set: function(val) {
            this._attrs.righticon = val;
          }
        });
        
        Object.defineProperty(this, 'value', {
          configurable: false,
          get: function() {
            return this._attrs.value;
          },
          set: function(val) {
            this._attrs.value = val;
          }
        });
      }
    });
  </script>
</muon-element>
